---
description: Defines the high-level folder contract for the Ingest -> Sources -> Docs pipeline.
globs: '**'
alwaysApply: true
---

# Folder Contract Rules

These rules define the purpose and allowed operations within key directories of the knowledge system. The agent must adhere strictly to this contract.

- **`ingest/`**: Raw input only (any file type). Append-only. The agent must **not edit or delete** any file in this directory except for `ingest/manifest.json` and `ingest/manifest.md`.
- **`sources/`**: Canonical, normalized, user-created source content (Markdown only, with standardized frontmatter). This is the primary output target for the `ingest` skill.
- **`references/`**: Non-user-created reference materials (e.g., PDFs). Read-only. The agent must **not edit or delete** any file in this directory.
- **`media/`**: Shared top-level library for binary media assets. The agent can add new media items and their `meta.md` files but should generally not modify existing binary assets.
- **`ontology/`**: Ontology schema definition (`ontology/ontology.md`) and optional templates. The agent should only write to `ontology/ontology.md` via the `create-ontology` skill.
- **`content/`**: Derived Fumadocs output (published knowledge base). This is the primary output target for the `update-docs` skill.
- **`skills/`**: Repo-native skill playbooks (Markdown files). The agent should only create/update these when explicitly asked to define a new skill.

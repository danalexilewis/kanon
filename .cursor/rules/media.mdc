---
description: Rules for managing the top-level media/ library.
globs: src/media/**
alwaysApply: true
---

# Media Library Rules

These rules define the structure and usage of the `src/media/` directory, which serves as a shared library for binary media assets.

- **Structure**: Each media item must reside in its own subfolder named `YYYY-MM-DD_short_descriptive_name/`.
- **Contents**: Each media item's subfolder must contain:
  - One or more binary assets (e.g., `asset.jpg`, `video.mp4`).
  - A `meta.md` file (Markdown with frontmatter) describing the media asset. This `meta.md` should include:
    - `origin` / `provenance` (where it came from).
    - `description` (what it depicts).
    - `relevant_entities` / `events` (links to `src/sources/` IDs or `content/` entity/event pages).
    - `capture_date` (ISO8601).
    - `rights` / `license` notes (if applicable).
- **Read-Only Binary Assets**: While the agent can add new media folders and their `meta.md` files, existing binary media assets within `src/media/` should generally be treated as read-only. Avoid modifying or deleting them unless explicitly instructed.
- **Referencing Media**: Markdown files in `src/sources/` or `content/` should reference media assets using paths from the repo root (e.g., `src/media/YYYY-MM-DD_short_descriptive_name/asset.jpg`).
- **Website Integration**: For the Fumadocs website, `src/media/` assets will be mirrored into `public/media/` during the `update-docs` skill execution (Option A in plan) to ensure they are accessible at `/media/...` URLs.
